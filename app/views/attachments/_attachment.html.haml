%li.flex.items-center.space-x-2.justify-between.py-base.px-base.text-sm{ id: dom_id(attachment) }
  .flex.w-0.flex-1.items-center.space-x-3
    - if attachment.image?
      .avatar.avatar--md= image_tag attachment.variant(resize_to_limit: [100, 100])
    - else
      .avatar.avatar--md= heroicon 'paper-clip', options: { class: 'h-5 w-5 flex-shrink-0 text-gray-400' }
    .block.truncate
      .paragraph-base= attachment.filename
      .paragraph-muted=number_to_human_size(attachment.byte_size)
  .flex-shrink-0.flex.items-center.space-x-1.5
    = link_to rails_blob_path(attachment, disposition: "attachment"), class: 'btn-circle', data: { turbo: false } do
      = heroicon 'arrow-down-tray', options: { class: 'btn-circle__icon' }
    - if can?(:update, @record)
      = button_to [attachment.record, attachment], id: "delete_#{dom_id(attachment)}", method: :delete, form: { data: { turbo_confirm: t('shared.are_you_sure?') } }, data: { controller: :tooltip, tooltip_content_value: t('shared.remove') }, class: 'btn-circle btn-circle--danger' do
        = heroicon 'trash', options: { class: 'btn-circle__icon' }